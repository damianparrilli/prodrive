---
import CardSoporte from "./Soporte/CardSoporte.astro";
---

<section id="soporte"
  class="py-24 md:py-28 bg-[url(/bg-support.png)] bg-center bg-no-repeat bg-cover text-center overflow-x-hidden"
>
  <div class="mx-auto max-w-[1100px] px-5">
    <h2 class="soporte-titulo text-3xl md:text-[42px] font-title">Nuestros canales de soporte</h2>
    <p class="soporte-descripcion mb-12 text-base md:text-lg max-w-md mx-auto">
      Te brindamos nuestras plataformas de software para conexión remota.
    </p>
    <div class="flex flex-col gap-6">
      <div class="flex flex-col md:flex-row gap-4 items-center md:items-stretch">
        <CardSoporte
          class="soporte-card-left"
          titulo="Soporte via TeamViewer"
          descripcion="Conéctate de forma segura mediante TeamViewer Quick Support y recibe asistencia remota inmediata en tu dispositivo."
          urlImg="teamviwer"
          descargar="TeamViewer"
          linkDescarga="https://download.teamviewer.com/download/TeamViewer_Setup_x64.exe"
          linkAnchor="https://get.teamviewer.com/6hwmqkh"
        />
        <CardSoporte
          class="soporte-card-right"
          titulo="Soporte via AnyDesk"
          descripcion="Accede a la plataforma de AnyDesk para que nuestro equipo técnico pueda brindarte soporte remoto rápido y confiable."
          urlImg="anydesk"
          descargar="AnyDesk"
          linkDescarga="https://anydesk.com/es/downloads/windows"
          linkAnchor="https://download.anydesk.com/AnyDesk.exe?_ga=2.225585304.360525357.1586530072-1427590355.1584553161"
        />
      </div>
      <p class="soporte-o text-lg">o</p>
      <div class="soporte-ticket flex justify-center">
        <CardSoporte
          titulo="Abrir un ticket"
          descripcion="Podes solicitar un ticket mediante email con tu correo, con seguimiento de los mismos y posibilidad de ver el estado de los mismos a tiempo real."
          ticket
          linkAnchor="mailto:soporte@prodrive.com.ar"
        />
      </div>
    </div>
  </div>
</section>

<style>
  .soporte-titulo,
  .soporte-descripcion {
    opacity: 0;
    transform: translateY(50px);
  }
  
  :global(.soporte-card-left),
  :global(.soporte-card-right) {
    opacity: 0;
  }
  
  :global(.soporte-card-left) {
    transform: translateX(-100px);
  }
  
  :global(.soporte-card-right) {
    transform: translateX(100px);
  }
  
  .soporte-o,
  .soporte-ticket {
    opacity: 0;
    transform: translateY(50px);
  }
</style>

<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    const section = document.querySelector('#soporte');
    
    if (section && window.gsap && window.gsap.registerPlugin) {
      window.gsap.to('.soporte-titulo', {
        y: 0,
        opacity: 1,
        duration: 0.3,
        ease: "power2.out",
        scrollTrigger: {
          trigger: section,
          start: "top 60%",
          toggleActions: "play none none reverse"
        }
      });
      
      window.gsap.to('.soporte-descripcion', {
        y: 0,
        opacity: 1,
        duration: 0.3,
        delay: 0.05,
        ease: "power2.out",
        scrollTrigger: {
          trigger: section,
          start: "top 60%",
          toggleActions: "play none none reverse"
        }
      });
      
      window.gsap.to('.soporte-card-left', {
        x: 0,
        opacity: 1,
        duration: 0.4,
        ease: "power2.out",
        scrollTrigger: {
          trigger: section,
          start: "top 40%",
          toggleActions: "play none none reverse"
        }
      });
      
      window.gsap.to('.soporte-card-right', {
        x: 0,
        opacity: 1,
        duration: 0.4,
        ease: "power2.out",
        scrollTrigger: {
          trigger: section,
          start: "top 40%",
          toggleActions: "play none none reverse"
        }
      });
      
      const ticketCard = document.querySelector('.soporte-ticket');
      
      window.gsap.to('.soporte-o', {
        y: 0,
        opacity: 1,
        duration: 0.3,
        ease: "power2.out",
        scrollTrigger: {
          trigger: ticketCard,
          start: "top 85%",
          toggleActions: "play none none reverse"
        }
      });
      
      window.gsap.to('.soporte-ticket', {
        y: 0,
        opacity: 1,
        duration: 0.3,
        ease: "power2.out",
        scrollTrigger: {
          trigger: ticketCard,
          start: "top 85%",
          toggleActions: "play none none reverse"
        }
      });
    }
  });
</script>
